{% extends 'knp_menu.html.twig' %}
{% set array = [] %}
{% set array = array|merge(['attributes']) %}
{% set array = array|merge(['taxons']) %}
{% set array = array|merge(['options']) %}
{% set array = array|merge(['groups']) %}
{% set array = array|merge(['routes']) %}
{% set array = array|merge(['promotions']) %}
{% set array = array|merge(['static_contents']) %}
{% set array = array|merge(['marketing']) %}
{% set array = array|merge(['content']) %}


{% block list %}
    {# set item.root.children.catalog.children = item.root.children.catalog.children[1:1] #}
    {% for item in item.children %}
        {% if item.name not in array %}
            {{ block('item') }}
        {% endif %}
    {% endfor %}
{% endblock %}

{% block item %}
{% if item.level is same as(1) %}
<div class="item">
    <div class="header">{{ item.label|trans }}</div>
    <div class="menu">
        {{ block('list') }}
    </div>
</div>
{% else %}
<a class="item" href="{{ item.uri }}">
    {{ block('icon') }}
    {{ item.label|trans }}
</a>
{% endif %}
{% endblock %}


{% block icon %}
{% set icon = item.labelAttribute('icon') %}
{% if icon %}<i class="icon {{ icon }}"></i> {% endif %}
{% endblock %}

